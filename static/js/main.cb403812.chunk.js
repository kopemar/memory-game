(this["webpackJsonpmemory-game"]=this["webpackJsonpmemory-game"]||[]).push([[0],{47:function(e,n,t){e.exports=t(75)},52:function(e,n,t){},53:function(e,n,t){},75:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(38),o=t.n(i),c=(t(52),t(4)),l=t(3),u=t(6),s=t(7),m=t(14),d=(t(53),t(5)),f=t(1),v=t(2);function h(){var e=Object(f.a)(["\n            @keyframes reject {\n                0% {transform: translateX(15px);}\n                50% {transform: translateX(-15px);}\n                100% {transform: translateX(0px)}\n            }\n            animation-name: reject;\n            animation-delay: ","s;\n            animation-duration: ","s;\n            animation-fill-mode: forwards;\n            "]);return h=function(){return e},e}var p="img/img_1.svg",b="img/img_2.svg",g="img/img_3.svg",O="img/img_4.svg",y="img/img_5.svg",j="img/img_6.svg",w="img/img_7.svg",E="img/img_8.svg",x="#6AA331",k="#ACD87E",S="#4a7524",C="#7AB341",P="#B8FF2C",I="#A0FF4F",F="#9CAF8C",T="#B7C59C",_="#96E6A1",N="#93D559",M="#FFFFFF",B="#BCBDBC",G="#7AD9EF",D="#D7D7D7",A="#E7DEB1",J="#E7C3B1",z="#877467",X="36px",W="24px",L="@media (min-width: 1000px)",H="@media (max-width: 700px)",q="Hello and welcome to the memory game!",U="Select number of players",Y="Insert name of Player",R="/multiplayer",V="/about",$="/",K="/singleplayer",Q="#/",Z="https://api.github.com/users/kopemar",ee="singleplayer_in_storage",ne="multiplayer_in_storage",te="has_been_welcome",ae=Object(v.a)(h(),(function(e){var n=e.delay;return n||0}),(function(e){var n=e.duration;return n||.5}));function re(){var e=Object(f.a)(["\n        background-image: linear-gradient(to bottom , ",", ",");\n        cursor: not-allowed; \n        \n        &:hover {\n            opacity: 0.5;\n            ","\n        }\n    "]);return re=function(){return e},e}function ie(){var e=Object(f.a)(["\n    border: none; \n    height: 64px;\n    background-image: linear-gradient(to bottom , ",", ",");\n    min-width: 300px;\n    border-radius: 64px;\n    font-size: ",";\n    color: ",";\n    text-transform: uppercase;\n    font-family: 'Raleway', sans-serif;\n    opacity: 0.5; \n    transition: 1s; \n    cursor: pointer; \n    \n    "," {\n        min-width: 0;\n        width: 60vw; \n        opacity: 1;\n    }\n    \n    :hover {\n        opacity: 1;\n    }\n    \n    ","\n"]);return ie=function(){return e},e}var oe=v.b.button(ie(),P,I,W,M,H,(function(e){return e.disabled&&Object(v.a)(re(),F,T,ae)})),ce=function(e){var n=e.children,t=e.onClick,a=e.disabled;return r.a.createElement(oe,{disabled:a,type:"submit",onClick:function(e){!a&&t&&t(e)}},n)};function le(){var e=Object(f.a)(["\n    @keyframes move-from-right {\n        from {transform: translateX(100%);}\n        to {transform: translateX(0%);}\n    }\n    animation-name: move-from-right;\n    transform: translateX(100%)\n    animation-delay: ","s;\n    animation-duration: ","s;\n    animation-fill-mode: forwards;\n"]);return le=function(){return e},e}function ue(){var e=Object(f.a)(["\n    @keyframes fade-in {\n        from {opacity: 0;}\n        to {opacity: 1;}\n    }\n    animation-name: fade-in;\n    opacity: 0;\n    animation-delay: ","s;\n    animation-duration: ","s;\n    animation-fill-mode: forwards;\n"]);return ue=function(){return e},e}var se=v.b.div(ue(),(function(e){var n=e.delay;return n||0}),(function(e){var n=e.duration;return n||2})),me=v.b.div(le(),(function(e){var n=e.delay;return n||0}),(function(e){var n=e.duration;return n||2}));function de(){var e=Object(f.a)(["\n    margin: 50px;\n    color: ","; \n    font-size: ",";\n    font-weight: 500;\n    text-align: center;\n    \n    "," {\n        font-size: ",";\n    }\n"]);return de=function(){return e},e}var fe=v.b.h2(de(),M,X,H,W);function ve(){var e=Object(f.a)(["\n        transform: translateX(-100%);\n    "]);return ve=function(){return e},e}function he(){var e=Object(f.a)(["\n    max-width: 100%;\n    text-align: center;\n    transition: 1s;\n    \n    ","\n"]);return he=function(){return e},e}var pe=v.b.section(he(),(function(e){return e.finished&&Object(v.a)(ve())})),be=function(e){var n=e.onFinished,t=Object(a.useState)(!1),i=Object(d.a)(t,2),o=i[0],c=i[1];return r.a.createElement(pe,{finished:o},r.a.createElement(se,{delay:1},r.a.createElement(fe,null,q)),r.a.createElement(se,{delay:2},r.a.createElement(ce,{onClick:function(){return c(!0),void n()}},"Next")))},ge=t(12);function Oe(){var e=Object(f.a)(["\n    text-align: center; \n    \n    button {\n        margin: auto 30px;\n       \n        "," {\n            margin-bottom: 30px;\n        }\n    }\n"]);return Oe=function(){return e},e}var ye=Object(v.b)(me)(Oe(),H),je=function(){return r.a.createElement("section",null,r.a.createElement(ye,null,r.a.createElement(fe,null,"Choose type of the game"),r.a.createElement(ge.b,{to:K},r.a.createElement(ce,null,"Single Player")),r.a.createElement(ge.b,{to:R},r.a.createElement(ce,null,"Multiplayer"))))},we=t(15),Ee=t(43),xe=t.n(Ee);function ke(){var e=Object(f.a)(["\n    position: absolute; \n    right: 0;\n    top: 25%; \n    bottom: 75%;\n    margin-right: 30px;\n    cursor: pointer; \n"]);return ke=function(){return e},e}function Se(){var e=Object(f.a)(["\n    position: absolute; \n    left: 0;\n    top: 25%; \n    bottom: 75%;\n    margin-left: 30px;\n    cursor: pointer; \n"]);return Se=function(){return e},e}function Ce(){var e=Object(f.a)(['\n        width: 134px;\n        height: 87px; \n        background: url("img/logo_small.svg") no-repeat;\n        background-size: cover;\n    ']);return Ce=function(){return e},e}function Pe(){var e=Object(f.a)(['\n    display: inline-block; \n    text-indent: -9999px;\n    margin: auto;\n    width: 401px; \n    height: 263px;\n    border: none;\n    background: url("img/logo_great.svg");\n    cursor: pointer;\n    transition: 1s;\n    ',"\n"]);return Pe=function(){return e},e}function Ie(){var e=Object(f.a)(["\n    text-align: center; \n    margin: 5px;\n    max-width: 100vw;\n    position: relative; \n    \n    "," {\n        max-width: 500px;\n        margin: auto;\n    }\n    \n    > img {\n        margin:auto;\n        max-width: 80%\n    }\n"]);return Ie=function(){return e},e}var Fe=v.b.header(Ie(),H),Te=v.b.h1(Pe(),(function(e){return e.collapsed&&Object(v.a)(Ce())})),_e=v.b.nav(Se()),Ne=v.b.nav(ke()),Me=function(e){var n=e.collapsed,t=e.onBack,a=r.a.createElement(_e,{onClick:function(){t()}},r.a.createElement("img",{src:"img/back.svg",alt:"Go back"}));return r.a.createElement(Fe,null,r.a.createElement(we.c,null,r.a.createElement(we.a,{path:R},a),r.a.createElement(we.a,{path:K},a),r.a.createElement(we.a,{path:V},a)),r.a.createElement(ge.b,{to:$},r.a.createElement(Te,{collapsed:n},"Memory Board Game")),r.a.createElement(Ne,null,r.a.createElement(ge.b,{to:V},r.a.createElement("img",{src:"img/info.svg"}))))};function Be(){var e=Object(f.a)(["\n    margin: 24px; \n"]);return Be=function(){return e},e}function Ge(){var e=Object(f.a)(["\n    justify-content: center;\n    align-items: center;\n   \n    & > img {\n        margin-top: -10px; \n        width: 250px;\n        height: 250px;\n   }\n   \n   & > * {\n    color: ",";\n    font-size: ",";\n    margin: 15px;\n    \n    & > a {\n        color: ","\n    }\n   }\n"]);return Ge=function(){return e},e}function De(){var e=Object(f.a)(["\n    text-align:center; \n"]);return De=function(){return e},e}var Ae=v.b.section(De()),Je=v.b.div(Ge(),M,W,S),ze=v.b.div(Be()),Xe=function(e){Object(s.a)(t,e);var n=Object(u.a)(t);function t(e){var a;return Object(c.a)(this,t),(a=n.call(this,e)).state={loaded:!1,user:null},a}return Object(l.a)(t,[{key:"shouldComponentUpdate",value:function(e,n,t){return n!==this.state}},{key:"componentDidMount",value:function(){var e=this;xe.a.get(Z).then((function(n){e.setState({user:n.data})})).catch((function(e){return console.error(e)}))}},{key:"render",value:function(){return r.a.createElement(Ae,null,this.state.user&&r.a.createElement(fe,null,"The author"),this.state.user&&r.a.createElement(Je,null,r.a.createElement("img",{src:this.state.user.avatar_url}),r.a.createElement("div",null,this.state.user.name),r.a.createElement("div",null,r.a.createElement("a",{href:this.state.user.html_url},"@",this.state.user.login))),r.a.createElement(ze,null,r.a.createElement(ce,{onClick:function(){window.confirm("Are you sure you want to delete storage?")&&window.localStorage.clear()}},"Clear storage")))}}]),t}(a.Component);function We(){var e=Object(f.a)(["\n    width: 100vw;\n    height: 3em;\n    display: block;\n    text-align: center;\n    bottom: 0;\n"]);return We=function(){return e},e}var Le=v.b.footer(We()),He=function(){return r.a.createElement(Le,null,"(c) 2020")};function qe(){var e=Object(f.a)(["\n   position: relative; \n   flex-grow: 1; \n"]);return qe=function(){return e},e}function Ue(){var e=Object(f.a)(["\n    display: flex; \n    min-height: 100vh; \n    position: relative; \n    flex-direction: column;\n"]);return Ue=function(){return e},e}var Ye=v.b.div(Ue()),Re=v.b.main(qe()),Ve=function(e){var n=e.children,t=e.collapsed,a=r.a.createElement(Me,{collapsed:null===t||void 0===t||t,onBack:function(){window.history.back()}});return r.a.createElement(ge.a,{basename:"/"},r.a.createElement(Ye,null,r.a.createElement(se,null,a),r.a.createElement(Re,null,n),r.a.createElement(He,null)))},$e=function(){var e=setTimeout,n={};return setTimeout=function(t,a){var r=e(t,a);return n[r]=[Date.now(),a],r},function(e){var t=n[e];return t?Math.max(t[1]-Date.now()+t[0],0):NaN}}(),Ke=t(13),Qe=t(21),Ze=t(11),en=function(){function e(n){if(Object(c.a)(this,e),console.log("Game constructor"),this.count=n,n%2===0){this.cards=[];for(var t=0;t<n/2;t++)for(var a=0;a<2;a++)this.cards.push(new an(t));this.activeCard=null,this.discovered=0,this.shuffle()}else console.error("Not even number of cards");console.log(this)}return Object(l.a)(e,null,[{key:"fromProps",value:function(n){try{var t=new e(n.cards.length);return this.readGameProps(n,t),t}catch(a){throw"Not a valid JSON game"}}},{key:"readGameProps",value:function(e,n){n.cards=[];var t,a=Object(m.a)(e.cards);try{for(a.s();!(t=a.n()).done;){var r=t.value;r&&n.cards.push(an.fromProps(r))}}catch(i){a.e(i)}finally{a.f()}n.activeCard=null==e.activeCard?null:an.fromProps(e.activeCard),n.discovered=e.discovered}}]),Object(l.a)(e,[{key:"isWon",value:function(){return this.count===this.discovered}},{key:"handleMatch",value:function(){}},{key:"handlePairing",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){};e.pairsWith(n)?(n.discovered||e.discovered||(this.discovered+=2),e.discovered=!0,n.discovered=!0,this.handleMatch(),a(),this.isWon()&&t()):(this.handleLoss(),e.active=!1,n.active=!1,r()),this.activeCard=null}},{key:"handleLoss",value:function(){}},{key:"shuffle",value:function(){for(var e=this.cards.length;e>0;){var n=Math.floor(Math.random()*e);e--;var t=this.cards[e];this.cards[e]=this.cards[n],this.cards[n]=t}}}]),e}(),nn=function(e){Object(s.a)(t,e);var n=Object(u.a)(t);function t(e,a){var r;return Object(c.a)(this,t),(r=n.call(this,e)).activePlayer=0,r.timeout=null,r.players=a,r.activePlayer=r.getFirstPlayerIndex(),r}return Object(l.a)(t,[{key:"handleMatch",value:function(){Object(Qe.a)(Object(Ke.a)(t.prototype),"handleMatch",this).call(this),console.log(this),null!==this.activePlayer&&(this.players[this.activePlayer].score+=2)}},{key:"handleLoss",value:function(){Object(Qe.a)(Object(Ke.a)(t.prototype),"handleLoss",this).call(this),this.activePlayer=this.activePlayer+2>this.players.length?this.getFirstPlayerIndex():this.activePlayer+1,console.log(this.activePlayer)}}],[{key:"fromProps",value:function(e){try{var n=new t(e.cards.length,[]);Object(Qe.a)(Object(Ke.a)(t),"readGameProps",this).call(this,e,n);var a,r=Object(m.a)(e.players);try{for(r.s();!(a=r.n()).done;){var i=a.value;n.players.push(null===i?null:rn.fromProps(i))}}catch(o){r.e(o)}finally{r.f()}return n.activePlayer=e.activePlayer,n}catch(c){throw"Invalid card"}}}]),Object(l.a)(t,[{key:"getFirstPlayerIndex",value:function(){console.log(this.players);var e,n=Object(m.a)(this.players);try{for(n.s();!(e=n.n()).done;){var t=e.value;if(void 0!==t&&null!==t)return this.players.indexOf(t)}}catch(a){n.e(a)}finally{n.f()}}}]),t}(en),tn=function(e){Object(s.a)(t,e);var n=Object(u.a)(t);function t(e){return Object(c.a)(this,t),n.call(this,e)}return t}(en),an=function(){function e(n){Object(c.a)(this,e),this.number=n,this.props=e.image[n],this.active=!1,this.id=e.getId(),this.discovered=!1,this.timeout=null,this.remainining=0}return Object(l.a)(e,null,[{key:"fromProps",value:function(n){try{var t=new e(n.number);return t.active=n.active,t.id=n.id,t.discovered=n.discovered,t.remainining=n.remainining,t}catch(a){throw"Invalid card"}}}]),Object(l.a)(e,[{key:"isTheSame",value:function(e){return this.valueEquals(e)&&this.id===e.id}},{key:"pairsWith",value:function(e){return this.valueEquals(e)&&!this.isTheSame(e)}},{key:"valueEquals",value:function(e){return void 0===e?void 0===this:null===e?null===this:!!e.hasOwnProperty("number")&&e.number===this.number}}]),e}();an.counter=0,an.getId=function(){return an.counter++},an.image={0:{color:_,src:p},1:{color:J,src:b},2:{color:D,src:g},3:{color:z,src:O},4:{color:A,src:y},5:{color:G,src:j},6:{color:D,src:w},7:{color:A,src:E}};var rn=function(){function e(n){Object(c.a)(this,e),this.score=0,this.name=n}return Object(l.a)(e,null,[{key:"fromProps",value:function(n){try{var t=new e(n.name);return t.score=n.score,t}catch(a){throw"Invalid player"}}}]),e}();function on(){var e=Object(f.a)(["\n    text-align: center; \n    \n    button {\n        margin: auto 30px;\n        "," {\n            margin-bottom: 30px;\n        }\n    }\n"]);return on=function(){return e},e}Object(Ze.a)(rn,{score:Ze.b}),Object(Ze.a)(nn,{activePlayer:Ze.b,timeout:Ze.b});var cn=Object(v.b)(me)(on(),H),ln=function(e){var n=e.onSelected;return r.a.createElement("section",null,r.a.createElement(cn,null,r.a.createElement(fe,null,"Multiplayer Game"),r.a.createElement(ce,{disabled:void 0===window.localStorage.getItem(ne)||null===window.localStorage.getItem(ne),onClick:function(){console.log(window.localStorage.getItem(ne)),n(nn.fromProps(JSON.parse(window.localStorage.getItem(ne))))}},"Load Game"),r.a.createElement(ce,{onClick:function(){return n(null)}},"New Game")))};function un(){var e=Object(f.a)(["\n        > p {\n            opacity: 1;\n        }\n        background: ",";\n        border: 3px solid ","\n    "]);return un=function(){return e},e}function sn(){var e=Object(f.a)(["\n    margin: 10px;\n    width: 136px;\n    height: 168px;\n    border-radius: 60px; \n    text-align: center;\n    background: ",";\n    color: ",";\n    font-size: ",";\n    \n    &, >p {\n        transition: 2s;\n    }\n    \n    > p {\n        opacity: 0.5;\n        height: 20%;\n        padding: 40%;\n    }\n    \n    &:hover {\n        > p {\n            opacity: 1;\n        }\n        background: ",";\n    }\n    \n    ","\n"]);return sn=function(){return e},e}var mn=v.b.section(sn(),F,M,X,N,(function(e){return e.enabled&&Object(v.a)(un(),N,S)})),dn=function(e){var n=e.value,t=e.onSelect,a=e.enabled;return r.a.createElement(mn,{onClick:function(){return t(n)},enabled:a},r.a.createElement("p",null,n))};function fn(){var e=Object(f.a)(["\n    width: 100%;\n    display: flex;\n    margin: auto;\n    justify-content: center;\n"]);return fn=function(){return e},e}function vn(){var e=Object(f.a)(["\n        transform: translateX(0%);\n    "]);return vn=function(){return e},e}function hn(){var e=Object(f.a)(["\n    transform: translateX(100%);\n    transition: 1s; \n    text-align: center;\n    ","\n"]);return hn=function(){return e},e}var pn=v.b.main(hn(),(function(e){return e.shouldMove&&Object(v.a)(vn())})),bn=v.b.div(fn()),gn=function(e){for(var n=e.onFinished,t=Object(a.useState)(!1),i=Object(d.a)(t,2),o=i[0],c=i[1],l=Object(a.useState)(0),u=Object(d.a)(l,2),s=u[0],m=u[1],f=function(e){m(e)},v=[],h=2;h<=4;h++)v.push(r.a.createElement(dn,{value:h,enabled:s===h,onSelect:function(e){return f(e)}}));return setTimeout((function(){return c(!0)}),100),r.a.createElement("section",null,r.a.createElement(pn,{shouldMove:o},r.a.createElement(fe,null,U),r.a.createElement(bn,null,v),r.a.createElement(ce,{disabled:0===s,onClick:function(){n(s)}},"Next")))},On=t(44),yn=t(19);function jn(){var e=Object(f.a)(["\n    width: 100vw;\n    bottom: 0;\n"]);return jn=function(){return e},e}function wn(){var e=Object(f.a)(["\n    margin: 10px;\n"]);return wn=function(){return e},e}function En(){var e=Object(f.a)(["\n        fill: ","\n    "]);return En=function(){return e},e}function xn(){var e=Object(f.a)(["\n        fill: ","\n    "]);return xn=function(){return e},e}function kn(){var e=Object(f.a)(["\n    fill: ",";\n    transition: 1s;\n    \n    ","\n    \n    ","\n"]);return kn=function(){return e},e}function Sn(){var e=Object(f.a)(["\n    // position: absolute; \n    // right: 50%;\n    // left: 50%; \n    display: flex;\n    align-items: center;\n    text-align: center; \n    justify-content: center;\n"]);return Sn=function(){return e},e}function Cn(){var e=Object(f.a)(["\n    text-align: center; \n"]);return Cn=function(){return e},e}function Pn(){var e=Object(f.a)(["\n    display: block; \n    margin:  0 auto 64px;    \n    height: 64px;\n    min-width: 300px;\n    border-radius: 64px;\n    letter-spacing: 3px;\n    font-weight: 500;\n    font-size: ",";\n    text-align: center;\n    \n    color: ",";\n    padding: 10px;\n    border: 5px solid ","; \n    transition: 1s;\n    \n    "," {\n        &::placeholder {\n            font-size: ",";\n        }\n        min-width: 0;\n        width: 60vw; \n    }\n    \n    &::placeholder {\n        font-weight: 500;\n        opacity: 0.2;\n    }\n    \n    &:invalid {\n        border-color: ",";\n    }\n"]);return Pn=function(){return e},e}function In(){var e=Object(f.a)(["\n        left: ","%;\n    "]);return In=function(){return e},e}function Fn(){var e=Object(f.a)(["\n    width: 100vw;\n    display: inline-block;\n    position: absolute; \n    \n    ","\n"]);return Fn=function(){return e},e}function Tn(){var e=Object(f.a)(["\n        transform: translateX(-","%);\n    "]);return Tn=function(){return e},e}function _n(){var e=Object(f.a)(["\n    width: 100vw;\n    \n    ","\n    transition: 2s; \n"]);return _n=function(){return e},e}function Nn(){var e=Object(f.a)(["\n    position: relative; \n"]);return Nn=function(){return e},e}var Mn=v.b.div(Nn()),Bn=v.b.div(_n(),(function(e){var n=e.active;return n&&Object(v.a)(Tn(),100*(n-1))})),Gn=v.b.section(Fn(),(function(e){var n=e.number;return n&&Object(v.a)(In(),100*(n-1))})),Dn=v.b.input(Pn(),X,B,x,H,W,T),An=v.b.form(Cn()),Jn=v.b.div(Sn()),zn=v.b.circle(kn(),M,(function(e){var n=e.disabled,t=e.active;return n&&!t&&Object(v.a)(xn(),T)}),(function(e){return e.active&&Object(v.a)(En(),I)})),Xn=v.b.div(wn()),Wn=Object(v.b)(me)(jn()),Ln=function(e){var n=e.active,t=e.disabled;return r.a.createElement(Xn,null,r.a.createElement("svg",{width:"22px",height:"22px",viewBox:"0 0 22 22"},r.a.createElement(zn,{cx:"11",cy:"11",r:"8",active:n,disabled:t})))},Hn=function(e){Object(s.a)(t,e);var n=Object(u.a)(t);function t(e){var a;return Object(c.a)(this,t),(a=n.call(this,e)).state={name:null,number:a.props.number},a.handleInputChange=a.handleInputChange.bind(Object(yn.a)(a)),a}return Object(l.a)(t,[{key:"handleInputChange",value:function(e){"name"===e.target.name&&null!=this.state.name&&e.target.value.length>=10?this.setState({isLong:!0}):this.setState(Object(On.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this,n=this.state.name;return r.a.createElement(Gn,{number:this.state.number},r.a.createElement(fe,null,Y," ",this.props.number),r.a.createElement(An,{onSubmit:function(n){e.props.onSubmit(e.state),n.preventDefault()}},r.a.createElement(Dn,{autoComplete:"off",autocomplete:"off",name:"name",value:n,onChange:this.handleInputChange,type:"text",placeholder:"Player ".concat(this.props.number," name"),required:!0}),r.a.createElement(ce,{disabled:null===this.state.name||this.state.name.length<1},"Next")))}}]),t}(a.Component),qn=function(e){for(var n=e.count,t=e.onFinished,i=Object(a.useState)(1),o=Object(d.a)(i,2),c=o[0],l=o[1],u=Object(a.useState)([]),s=Object(d.a)(u,1)[0],m=[],f=[],v=function(e){s[e.number]=new rn(e.name),e.number<n?l(e.number+1):e.number===n&&t&&t(s)},h=1;h<=n;h++){var p=void 0===s[h]||0===s[h].length;f.push(r.a.createElement(Ln,{active:c===h,disabled:p})),m.push(r.a.createElement(Hn,{filled:h<c,number:h,active:c===h,onSubmit:function(e){return v(e)}}))}return r.a.createElement(Mn,null,r.a.createElement(me,null,r.a.createElement(Bn,{active:c},m)),r.a.createElement(Wn,null,r.a.createElement(Jn,null,f)))};function Un(){var e=Object(f.a)(["\n        @keyframes indicator {\n            from {\n                width: ","%;\n            }\n            to {\n                width: ","%;\n            }\n        }\n        animation-name: indicator; \n        animation-duration: ","ms; \n        animation-timing-function: linear;"]);return Un=function(){return e},e}function Yn(){var e=Object(f.a)(["\n    background: ",";\n    position: absolute;\n    height: 10px;\n    width: 100%;\n    left: 0;\n    bottom: 0;\n    margin-bottom: 4px;\n    transition: 2s linear;\n    \n    ","\n    \n    \n"]);return Yn=function(){return e},e}function Rn(){var e=Object(f.a)(["\n    height: 0;\n    flex-grow: 1; \n    text-transform: uppercase;\n    padding: 20px;\n    font-size: ",";\n    color: ",";\n    transition: 1s linear;\n    \n    "," {\n        text-align: left;\n        padding: 5px;\n        font-size: ",";\n    }\n"]);return Rn=function(){return e},e}function Vn(){var e=Object(f.a)(["\n    display: flex;\n    flex-direction: column;\n    flex-grow: 1;\n    text-align: center\n    "," {\n        position: absolute;\n    }\n"]);return Vn=function(){return e},e}function $n(){var e=Object(f.a)(["\n    position: relative;\n    display: flex;\n    background: ","; \n    min-height: 100px;\n    "," {\n        padding: 6px 200px;\n    }\n    "," {\n        flex-direction: column; \n        padding: 20px;\n    }\n    > * {\n        text-align: center; \n    }\n"]);return $n=function(){return e},e}var Kn=v.b.div($n(),M,L,H),Qn=v.b.div(Vn(),H),Zn=v.b.div(Rn(),X,(function(e){return e.active?_:B}),H,W),et=v.b.div(Yn(),_,(function(e){return e.shouldAnimate&&Object(v.a)(Un(),(function(e){var n=e.start;return n||100}),(function(e){var n=e.end;return n||0}),(function(e){var n=e.duration;return n||6e3}))})),nt=function(e){var n=e.game,t=Object(a.useState)(n.players[n.activePlayer]),i=Object(d.a)(t,2),o=i[0],c=i[1],l=Object(a.useReducer)((function(e){return e+1}),0),u=Object(d.a)(l,2)[1],s=Object(a.useState)(100),f=Object(d.a)(s,1)[0],v=Object(a.useState)(0),h=Object(d.a)(v,1)[0],p=Object(a.useState)(6e3),b=Object(d.a)(p,1)[0],g=Object(a.useState)(!0),O=Object(d.a)(g,2),y=O[0],j=O[1];console.log(n);var w,E=Object(m.a)(n.players);try{for(E.s();!(w=E.n()).done;){var x=w.value;null!==x&&void 0!==x&&Object(Ze.c)(x,"score",(function(){u()}))}}catch(P){E.e(P)}finally{E.f()}Object(Ze.c)(n,"activePlayer",(function(e){c(n.players[e.newValue])})),Object(Ze.c)(n,"timeout",(function(){j(!1),setTimeout((function(){j(!0)}),100)}));for(var k=[],S=1;S<n.players.length;S++){var C=n.players[S];C&&k.push(r.a.createElement(Qn,null,r.a.createElement(Zn,{active:C===o},C.name," (",C.score,")")))}return r.a.createElement(Kn,null,k,r.a.createElement(et,{start:f,end:h,duration:b,shouldAnimate:y}))};function tt(){var e=Object(f.a)(["\n    width: 100%;\n    height: 100%;\n    backface-visibility: hidden;\n    transform: rotateY(180deg);\n"]);return tt=function(){return e},e}function at(){var e=Object(f.a)(["\n    width: 100%;\n    height: 100%;\n    fill: ",";\n    stroke: ","; \n    position: absolute;\n    backface-visibility: hidden;\n    transform: rotateY(180deg);\n"]);return at=function(){return e},e}function rt(){var e=Object(f.a)(["\n    width: 100%;\n    height: 100%;\n    rx: 10;\n    fill: url(",");\n    stroke: ","; \n    position: absolute;\n    backface-visibility: hidden;\n    \n    &:hover {\n        stroke: ","\n    }\n"]);return rt=function(){return e},e}function it(){var e=Object(f.a)(["\n    perspective: 1000px;\n    position: relative; \n"]);return it=function(){return e},e}function ot(){var e=Object(f.a)(["transform: rotateY(180deg);"]);return ot=function(){return e},e}function ct(){var e=Object(f.a)(["\n    position: relative;\n    fill: transparent;\n    transition: transform 0.6s;\n    transform-style: preserve-3d;\n    text-align: center;\n    ","\n"]);return ct=function(){return e},e}function lt(){var e=Object(f.a)(["\n    box-sizing: border-box;\n    width: 25%;\n    padding: 10px;\n    border-radius: 10px;\n    perspective: 1000px;\n"]);return lt=function(){return e},e}var ut=v.b.div(lt()),st=v.b.g(ct(),(function(e){return e.active&&Object(v.a)(ot())})),mt=v.b.g(it()),dt=v.b.rect(rt(),(function(e){return e.fill}),(function(e){return e.active?S:x}),S),ft=v.b.rect(at(),(function(e){return e.src}),(function(e){return e.active?x:S})),vt=v.b.image(tt()),ht=function(e){var n=e.card,t=e.clickHandler,i=e.timeoutHandler,o=e.game,c=Object(a.useState)(n.active),l=Object(d.a)(c,2),u=l[0],s=l[1],m=Object(a.useState)(n.discovered),f=Object(d.a)(m,2),v=f[0],h=f[1];n.remainining>0&&(n.timeout=setTimeout((function(){i(n),v||h(n.discovered),s(n.discovered)}),n.remainining));var p;return r.a.createElement(ut,{onClick:function(){n.discovered||(t(n),s(!0),n.pairsWith(o.activeCard)&&clearTimeout(o.activeCard.timeout),n.timeout=setTimeout((function(){i(n),v||h(n.discovered),s(n.discovered)}),1500))}},r.a.createElement("svg",{viewBox:"0 0 ".concat(160," ").concat(160)},r.a.createElement("defs",null,r.a.createElement("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"green_linear_gradient"},r.a.createElement("stop",{stopColor:k,offset:"0%"}),r.a.createElement("stop",{stopColor:C,offset:"100%"}))),r.a.createElement(mt,null,r.a.createElement(st,{active:n.isTheSame(o.activeCard)||u||v,size:160},r.a.createElement(dt,{active:n.isTheSame(o.activeCard)||u||v,fill:(p="green_linear_gradient","#".concat(p)),id:"card_bg_rectangle",width:"100%",height:"100%",rx:"10"}),r.a.createElement(ft,{active:n.isTheSame(o.activeCard)||u||v,src:n.props.color,width:"100%",height:"100%",rx:"10"}),r.a.createElement(vt,{href:n.props.src,width:"100%",height:"100%"})))))};function pt(){var e=Object(f.a)(["\n    display: flex;\n    flex-wrap: wrap;\n    max-width: 700px;\n    padding: 10px;\n    background: ",";\n    border-radius: 4px;\n    border: 1px solid ",";\n    margin: 10px auto;\n"]);return pt=function(){return e},e}var bt=v.b.section(pt(),M,F),gt=function(e){Object(s.a)(t,e);var n=Object(u.a)(t);function t(e){return Object(c.a)(this,t),n.call(this,e)}return Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.game instanceof nn&&this.setPlayerTimeout()}},{key:"setPlayerTimeout",value:function(){var e=this;this.props.game.timeout=setTimeout((function(){e.props.game.handleLoss(),e.setPlayerTimeout()}),6e3)}},{key:"render",value:function(){var e=this,n=[];this.props.game.cards.forEach((function(i){n.push(r.a.createElement(ht,{clickHandler:function(e){return a(e)},card:i,game:e.props.game,timeoutHandler:function(e){return t(e)}}))}));var t=function(n){n.discovered||(n.active=!1),e.props.game.activeCard=null},a=function(n){n.active=!0,console.log(e.props.game),null===e.props.game.activeCard?e.props.game.activeCard=n:(e.props.game.handlePairing(e.props.game.activeCard,n,(function(){setTimeout((function(){e.props.game instanceof nn?(alert("Game has ended! Scores: ".concat(e.props.game.players.map((function(e){return e&&"".concat(e.name,": ").concat(e.score,", ")})))),Ot(null),window.location.reload()):alert("You won this game!")}),500)})),e.props.game instanceof nn&&(clearTimeout(e.props.game.timeout),e.setPlayerTimeout()))};return r.a.createElement(bt,null,n)}}]),t}(a.Component);function Ot(e){Tt(e,ne)}var yt=function(e){Object(s.a)(t,e);var n=Object(u.a)(t);function t(e){var a;return Object(c.a)(this,t),a=n.call(this,e),_t()||Nt(),console.log("Multiplayer constructor"),a.state={game:null,welcome:_t(),playerCount:!1,activeCard:null},a}return Object(l.a)(t,[{key:"initGame",value:function(e){var n=new nn(16,e);this.setState({game:n}),Ot(n)}}]),Object(l.a)(t,[{key:"componentWillUnmount",value:function(){null!==this.state.game&&Ot(this.state.game)}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,!this.state.loaded&&r.a.createElement(ln,{onSelected:function(n){e.setState({loaded:!0}),null===n&&e.setState({playerCount:0}),e.setState({game:n})}}),this.state.loaded&&0===this.state.playerCount&&r.a.createElement(gn,{onFinished:function(n){return e.setState({playerCount:n})}}),this.state.loaded&&this.state.playerCount>0&&!this.state.game&&r.a.createElement(r.a.Fragment,null,r.a.createElement(qn,{count:this.state.playerCount,onFinished:function(n){return e.initGame(n)}})),this.state.loaded&&this.state.game&&this.state.game.players&&r.a.createElement(r.a.Fragment,null,this.state.game instanceof nn&&r.a.createElement(nt,{game:this.state.game}),r.a.createElement(gt,{game:this.state.game})))}}]),t}(a.Component),jt=t(27),wt=t.n(jt),Et=t(45),xt=t(46),kt=t.n(xt);function St(){var e=Object(f.a)(["\n    text-align: center; \n    \n    form > button {\n    margin: 15px 30px;\n    margin-top: 0px;\n        "," {\n            margin-bottom: 30px;\n        }\n    }\n"]);return St=function(){return e},e}var Ct=Object(v.b)(me)(St(),H),Pt=function(e){var n=e.onSelected;function t(){return(t=Object(Et.a)(wt.a.mark((function e(){var t,r;return wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:t=e.sent,(r=new FileReader).readAsText(t,"UTF-8"),r.onload=function(e){n(tn.fromProps(JSON.parse(e.target.result)))};case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function a(){return new Promise((function(e){var n=document.createElement("input");n.type="file",n.multiple=!1,n.accept=".json",n.onchange=function(t){var a=Array.from(n.files);e(a[0])},n.click()}))}var i=void 0!==window.localStorage.getItem(ee)&&null!==window.localStorage.getItem(ee);return r.a.createElement("section",null,r.a.createElement(Ct,null,r.a.createElement("form",null,r.a.createElement(fe,null,"Singleplayer Game"),r.a.createElement(ce,{disabled:!i,onClick:function(){console.log(window.localStorage.getItem(ee)),n(tn.fromProps(JSON.parse(window.localStorage.getItem(ee))))}},"Load Game"),r.a.createElement(ce,{disabled:!i,onClick:function(){kt()(new Blob([window.localStorage.getItem(ee)],{type:"application/json;charset=utf-8"}),"memory".concat(Date.now().toString(),".json"))}},"Export game"),r.a.createElement("br",null),r.a.createElement(ce,{onClick:function(){return function(){return t.apply(this,arguments)}()}},"Import game"),r.a.createElement(ce,{onClick:function(){return n(null)}},"New Game"))))};function It(e){Tt(e,ee)}var Ft=function(e){Object(s.a)(t,e);var n=Object(u.a)(t);function t(e){var a;return Object(c.a)(this,t),(a=n.call(this,e)).state={game:null,loaded:!1},a}return Object(l.a)(t,[{key:"componentWillUnmount",value:function(){console.log(this.state.game),null!==this.state.game&&It(this.state.game)}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,!this.state.loaded&&r.a.createElement(Pt,{onSelected:function(n){!function(n){var t=null===n?new tn(16):n;e.setState({loaded:!0,game:t}),It(t)}(n)}}),this.state.loaded&&r.a.createElement(gt,{game:this.state.game})," ")}}]),t}(a.Component);function Tt(e,n){if(console.log("saving game",e),null!==e){var t,a=Object(m.a)(e.cards);try{for(a.s();!(t=a.n()).done;){var r=t.value;null!==r.timeout&&(r.remainining=$e(r.timeout),clearTimeout(r.timeout))}}catch(i){a.e(i)}finally{a.f()}}console.log(e),null!==e?window.localStorage.setItem(n,JSON.stringify(e)):window.localStorage.removeItem(n)}function _t(){return null!==JSON.parse(window.localStorage.getItem(te))&&null!==JSON.parse(window.localStorage.getItem(te)).welcome&&JSON.parse(window.localStorage.getItem(te)).welcome}function Nt(){window.localStorage.setItem(te,JSON.stringify({welcome:!0}))}var Mt=function(e){Object(s.a)(t,e);var n=Object(u.a)(t);function t(e){var a;return Object(c.a)(this,t),(a=n.call(this,e)).state={game:null,welcome:_t(),collapsed:!1},a}return Object(l.a)(t,[{key:"componentDidMount",value:function(){}}]),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(Ve,{collapsed:this.state.collapsed||this.state.welcome||window.location.hash!==Q,shouldFadeIn:!this.state.welcome},r.a.createElement(we.c,null,r.a.createElement(we.a,{path:R},r.a.createElement(yt,null)),r.a.createElement(we.a,{path:K},r.a.createElement(Ft,null)),r.a.createElement(we.a,{path:V},r.a.createElement(Xe,null)),r.a.createElement(we.a,{path:$},!this.state.welcome&&r.a.createElement(r.a.Fragment,null,r.a.createElement(be,{onFinished:function(){e.setState({collapsed:!0}),setTimeout((function(){Nt(),e.setState({welcome:JSON.parse(window.localStorage.getItem(te)).welcome}),console.log(JSON.parse(window.localStorage.getItem(te)).welcome)}),1e3)}})),this.state.welcome&&r.a.createElement(je,null))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Mt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[47,1,2]]]);
//# sourceMappingURL=main.cb403812.chunk.js.map